/*!
 * UltraDate.js v1.3.0 (http://hrdaya.github.io/UltraDate.js/)
 *
 * Copyright 2015 yu-ki higa (https://github.com/hrdaya)
 * Licensed under MIT (https://github.com/hrdaya/UltraDate.js/blob/master/LICENSE)
 */
function UltraDate(a,b,c,d,e,f,g){"use strict";var h=function(a){return a=parseInt(a,10),isNaN(a)?0:a};if(this instanceof UltraDate)switch(this.date={_value:void 0,get value(){return this._value},set value(a){if(isNaN(a.getTime()))throw new Error("not Date Object");this._value=a}},arguments.length){case 0:this.date.value=new Date;break;case 1:this.date.value=new Date(a);break;default:this.date.value=new Date(h(a),h(b),h(c),h(d),h(e),h(f),h(g))}else switch(arguments.length){case 0:return new UltraDate;case 1:return new UltraDate(a);default:return new UltraDate(a,b,c,d,e,f,g)}}!function(){"use strict";var a="yyyy/MM/dd",b="def",c={def:{get:function(){return{}}}},d={def:{longDay:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDay:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longMonth:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonth:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],smallNoon:["am","pm"],largeNoon:["AM","PM"],era:function(a){return{longName:"A.D.",shortName:"AD",alphaName:"A",year:a.getFullYear()}},eraStrict:function(a){return this.era(a)}}},e=function(a){return a=parseInt(a,10),isNaN(a)?0:a},f=function(a,b){return b=parseInt(b,10),isNaN(b)&&(b=2),2>b?a:(new Array(b).join("0")+a).slice(-1*b)},g=function(a){if(a=void 0===a?new UltraDate:new UltraDate(a),isNaN(a.getTime()))throw new Error("not UltraDate Object");return a},h=function(a,b,c){a=parseInt(a,10),b=parseInt(b,10),(isNaN(a)||0>a&&a>6)&&(a=1),(isNaN(b)||0>b&&b>6)&&(b=4);var d=new UltraDate(c.getFullYear(),0,1).clearTime(),e=new UltraDate(c).clearTime(),f=0,g=e.getDay();0===a?g++:a>0&&7>a&&(g-=a-1,1>g&&(g+=7)),g=7-g,b=0===b?0:7-b;var h=function(a,b,c,d){return(a-b)/864e5+1+c+d},i=h(e,d,g,b);return 0===b?f=Math.ceil(i/7):b>0&&7>=b&&(f=Math.floor(i/7)),f};UltraDate.now=function(){return Date.now?Date.now():(new Date).getTime()},UltraDate.parse=function(a){return Date.parse(a)},UltraDate.UTC=function(){var a=[].slice.apply(arguments);return Date.UTC.apply(null,a)},UltraDate.getDefaultFormat=function(){return a},UltraDate.setFormatOption=function(a,b){if("string"!=typeof a||"def"===a||""===a||"[object Object]"!==Object.prototype.toString.call(b))throw new Error("Data type of the argument is incorrect");a in d||(d[a]={}),"era"in b&&!("eraStrict"in b)&&(b.eraStrict=b.era);for(var c in d.def)d[a][c]=c in b?b[c]:d.def[c];return this},UltraDate.setHolidayOption=function(a,b){if("string"!=typeof a||"def"===a||""===a||"[object Object]"!==Object.prototype.toString.call(b))throw new Error("Data type of the argument is incorrect");if(!("get"in b))throw new Error("get() does not exist");if("[object Function]"!==Object.prototype.toString.call(b.get))throw new Error("get is not Function");return c[a]=b,this},UltraDate.setDefaultLocale=function(a){if("string"!=typeof a||""===a)throw new Error("Data type of the argument is incorrect");return b=a,this},UltraDate.getISOLastWeekNum=function(a){a=void 0===a?(new UltraDate).getFullYear():e(a);var b=new UltraDate(a,11,31);return b.getISODay()<4?b.addDate(-1*b.getISODay()).getISOWeek():b.getISOWeek()},UltraDate.getUSLastWeekNum=function(a){return a=void 0===a?(new UltraDate).getFullYear():e(a),new UltraDate(a,11,31).getUSWeek()},UltraDate.prototype={constructor:UltraDate,copy:function(){return new UltraDate(this.date.value)},format:function(a,c,e){if("string"!=typeof a)return a;"string"!=typeof e&&(e=b),e in d||(d[e]=d.def);var g=d[e],h=g.era(this);c===!0&&(h=g.eraStrict(this));var i=0;this.getHours()>=12&&(i=1);var j={yyyy:this.getFullYear(),yy:f(this.getFullYear()),eeee:f(h.year,4),eee:f(h.year,3),ee:f(h.year),e:h.year,ggg:h.longName,gg:h.shortName,g:h.alphaName,MMMM:g.longMonth[this.getMonth()],MMM:g.shortMonth[this.getMonth()],MM:f(this.getRealMonth()),M:this.getRealMonth(),dddd:this.getOrdinalDate(),ddd:f(this.getOrdinalDate(),3),dd:f(this.getDate()),d:this.getDate(),HH:f(this.getHours()),H:this.getHours(),hh:f(this.getHours()-12*i),h:this.getHours()-12*i,mm:f(this.getMinutes()),m:this.getMinutes(),ss:f(this.getSeconds()),s:this.getSeconds(),fff:f(this.getMilliseconds(),3),f:this.getMilliseconds(),TT:g.largeNoon[i],tt:g.smallNoon[i],www:this.getDayCountsInMonth(),ww:f(this.getISOWeek()),w:this.getISOWeek(),WW:f(this.getUSWeek()),W:this.getUSWeek(),DDD:g.longDay[this.getDay()],DD:g.shortDay[this.getDay()],D:this.getISODay()},k="_____-----_____-----_____-----_____-----_____-----_____",l=a.replace(/("")/g,k),m=l.split('"'),n=[];for(var o in j)n.push(o);n="("+n.join("|")+")";for(var p=new RegExp(n,"g"),q=0,r=m.length;r>q;q+=2)m[q]=m[q].replace(p,function(a){return j[a]});return a=m.join(""),a.replace(new RegExp("("+k+")","g"),'"')},addYear:function(a){return this.setFullYear(this.getFullYear()+e(a)),this},addMonth:function(a){return this.setMonth(this.getMonth()+e(a)),this},addDate:function(a){return this.setDate(this.getDate()+e(a)),this},addHours:function(a){return this.setHours(this.getHours()+e(a)),this},addMinutes:function(a){return this.setMinutes(this.getMinutes()+e(a)),this},addSeconds:function(a){return this.setSeconds(this.getSeconds()+e(a)),this},addMilliseconds:function(a){return this.setMilliseconds(this.getMilliseconds()+e(a)),this},setRealMonth:function(a){return this.setMonth(e(a)-1),this},setDayCountsInMonth:function(a,b){if(a=parseInt(a,10),b=parseInt(b,10),isNaN(a)||isNaN(b)||0>b&&b>6)throw new Error("Data type of the argument is incorrect");this.setDate(1);var c=b-this.getDay()+1;return 1>c&&(c+=7),c+=7*(a-1),this.setDate(c),this},setISOWeekDay:function(a,b,c){if(isNaN(b)||0>b&&b>6)throw new Error("Data type of the argument is incorrect");c=void 0===c?this.getFullYear():e(c),this.setFullYear(c,0,1),b=0===b?6:b-1;var d=this.getDay()<2||4<this.getDay()?0:1;return this.setDayCountsInMonth(0,1).addDate(7*(e(a)-d)+b),this},setUSWeekDay:function(a,b,c){if(b=parseInt(b,10),isNaN(b)||0>b&&b>6)throw new Error("Data type of the argument is incorrect");c=void 0===c?this.getFullYear():e(c),this.setFullYear(c,0,1);var d=0===this.getDay()?0:1;return this.setDayCountsInMonth(0,0).addDate(7*(e(a)-d)+b),this},setFirstDate:function(a){return this.clearTime().setFullYear(this.getFullYear(),this.getMonth()+e(a),1),this},setEndDate:function(a){return this.setFirstDate().addMonth(e(a)+1).setDate(0),this},setBeforeWeekday:function(a,b){for(;!this.isWeekday(a,b);)this.addDate(-1);return this},setAfterWeekday:function(a,b){for(;!this.isWeekday(a,b);)this.addDate(1);return this},setOrdinalDate:function(a){return this.setFullYear(this.getFullYear(),0,1),this.addDate(e(a)-1),this},clearTime:function(){return this.setHours(0,0,0,0),this},getRealMonth:function(){return this.getMonth()+1},getDayCountsInMonth:function(){return Math.ceil(this.getDate()/7)},getISOWeek:function(){return h(1,4,this)},getUSWeek:function(){return h(0,0,this)},getISODay:function(){return 0===this.getDay()?7:this.getDay()},getOrdinalDate:function(){var a=new UltraDate(this.getFullYear(),0,1).addDate(-1),b=this.copy().clearTime();return(b-a)/864e5},getEndDate:function(a){return this.copy().setEndDate(a).getDate()},getHolidays:function(a,d){return a=a?e(a):this.getFullYear(),d=d?d:b,d in c||(c[d]=c.def),c[d].get(a)},getHoliday:function(b){var c=this.getHolidays(this.getFullYear(),b),d=this.format(a);return d in c?c[d]:""},diff:function(a){a=g(a);var b=a.getTime()-this.getTime(),c=b>=0;c||(b*=-1);var d=1e3,e=60*d,f=60*e,h=24*f,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0;return i=b%d,m=b-i,m>0&&(j=m%e,n=m-j),n>0&&(k=n%f,o=n-k),o>0&&(l=o%h,p=o-l),{after:c,day:p/h,hour:l/f,minute:k/e,second:j/d,ms:i}},diffMonth:function(a){return a=g(a),12*a.getFullYear()+a.getMonth()-(12*this.getFullYear()+this.getMonth())},diffDate:function(a){a=g(a);var b=a.clearTime().getTime()-this.copy().clearTime().getTime();return b/864e5},isLeapYear:function(a){return a=a?e(a):this.getFullYear(),a%4===0&&a%100!==0||a%400===0},isDayCountsInMonth:function(a,b){return this.getDayCountsInMonth()===e(a)&&this.getDay()===e(b)},isISOWeekDay:function(a,b){return this.getISOWeek()===e(a)&&this.getDay()===e(b)},isUSWeekDay:function(a,b){return this.getUSWeek()===e(a)&&this.getDay()===e(b)},isISOWeek:function(a){return this.getISOWeek()===e(a)},isUSWeek:function(a){return this.getUSWeek()===e(a)},isWeekday:function(a,b){switch(e(a)){case 0:return 6!==this.getDay()&&0!==this.getDay()&&!this.isHoliday(b);case 1:return 6!==this.getDay()&&0!==this.getDay();case 2:return 0!==this.getDay()&&!this.isHoliday(b);case 3:return 0!==this.getDay();case 4:return!this.isHoliday(b)}},isSameDate:function(a){return this.copy().clearTime().getTime()===g(a).clearTime().getTime()},isBeforeDate:function(a){return this.copy().clearTime()<g(a).clearTime()},isAfterDate:function(a){return this.copy().clearTime()>g(a).clearTime()},isBetween:function(a,b,c){return a=g(a),b=g(b),c===!0&&(a.clearTime(),b.clearTime().addDate(1).addMilliseconds(-1)),this>=a&&b>=this},isToday:function(){return this.isSameDate(new UltraDate)},isTomorrow:function(){return this.isSameDate((new UltraDate).addDate(1))},isYesterday:function(){return this.isSameDate((new UltraDate).addDate(-1))},isNDateToThat:function(a,b){return b=g(b),this.isSameDate(b.addDate(-1*e(a)))},isHoliday:function(a){return""!==this.getHoliday(a)}};var i=Object.getOwnPropertyNames(Date.prototype);for(var j in i)!function(a){"constructor"!==a&&(UltraDate.prototype[a]=function(){return Date.prototype[a].apply(this.date.value,Array.prototype.slice.call(arguments))})}(i[j])}();