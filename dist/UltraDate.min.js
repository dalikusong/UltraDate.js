/*!
 * UltraDate.js v1.0.0 (http://hrdaya.github.io/UltraDate.js/)
 *
 * Copyright 2015 yu-ki higa <https://github.com/hrdaya>
 * Licensed under MIT (https://github.com/hrdaya/UltraDate.js/blob/master/LICENSE)
 */
UltraDate=function(){"use strict";function a(a,b,c,d,e,g,h){switch(this.date={_value:void 0,get value(){return this._value},set value(a){if(i(a))throw new Error("内部DateオブジェクトにDateオブジェクト以外は設定できません");this._value=a}},arguments.length){case 0:this.date.value=new Date;break;case 1:this.date.value=new Date(a);break;default:this.date.value=new Date(f(a),f(b),f(c),f(d),f(e),f(g),f(h))}}a.now=function(){return Date.now?Date.now():(new Date).getTime()},a.parse=function(a){return Date.parse(a)},a.UTC=function(){var a=[].slice.apply(arguments);return Date.UTC.apply(null,a)},a.getDefaultFormat=function(){return d},a.setFormatOption=function(a,b){if("string"!=typeof a||"def"===a||""===a||"[object Object]"!==Object.prototype.toString.call(b))throw new Error("引数のデータ型がおかしいです");a in k||(k[a]={}),"era"in b&&!("eraStrict"in b)&&(b.eraStrict=b.era);for(var c in k.def)k[a][c]=c in b?b[c]:k.def[c];return this},a.setHolidayOption=function(a,b){if("string"!=typeof a||"def"===a||""===a||"[object Object]"!==Object.prototype.toString.call(b))throw new Error("引数のデータ型がおかしいです");if(!("get"in b))throw new Error("必須関数の「get()」が存在しません");if("[object Function]"!==Object.prototype.toString.call(b.get))throw new Error("「get」が関数ではありません");return l[a]=b,this},a.setDefaultLocale=function(a){if("string"!=typeof a||""===a)throw new Error("引数のデータ型がおかしいです");return e=a,this},a.prototype={instanceName:"UltraDate",constructor:a,copy:function(){return new a(this.date.value)},format:function(a,b,c,d){if("string"!=typeof a)return a;"string"!=typeof d&&(d=e),d in k||(k[d]=k.def);var f=k[d],h=f.era(this);c===!0&&(h=f.eraStrict(this));var i=0;this.getHours()>=12&&(i=1);var j={yyyy:this.getFullYear(),yy:g(this.getFullYear()),eeee:g(h.year,4),eee:g(h.year,3),ee:g(h.year),e:h.year,ggg:h.longName,gg:h.shortName,g:h.alphaName,MMMM:f.longMonth[this.getMonth()],MMM:f.shortMonth[this.getMonth()],MM:g(this.getRealMonth()),M:this.getRealMonth(),dd:g(this.getDate()),d:this.getDate(),HH:g(this.getHours()),H:this.getHours(),hh:g(this.getHours()-12*i),h:this.getHours()-12*i,mm:g(this.getMinutes()),m:this.getMinutes(),ss:g(this.getSeconds()),s:this.getSeconds(),fff:g(this.getMilliseconds(),3),f:this.getMilliseconds(),TT:f.largeNoon[i],tt:f.smallNoon[i],www:this.getDayCountsInMonth(),ww:g(this.getISOWeek()),w:this.getISOWeek(),WW:g(this.getUSWeek()),W:this.getUSWeek(),DD:f.longDay[this.getDay()],D:f.shortDay[this.getDay()]},l=[];for(var m in j)l.push(m);return b===!0?(l="(_"+l.join("_|_")+"_)",a.replace(new RegExp(l,"g"),function(a){return j[a.replace(/_/g,"")]})):(l="("+l.join("|")+")",a.replace(new RegExp(l,"g"),function(a){return j[a]}))},addYear:function(a){return this.setFullYear(this.getFullYear()+f(a)),this},addMonth:function(a){return this.setMonth(this.getMonth()+f(a)),this},addDate:function(a){return this.setDate(this.getDate()+f(a)),this},addHours:function(a){return this.setHours(this.getHours()+f(a)),this},addMinutes:function(a){return this.setMinutes(this.getMinutes()+f(a)),this},addSeconds:function(a){return this.setSeconds(this.getSeconds()+f(a)),this},addMilliseconds:function(a){return this.setMilliseconds(this.getMilliseconds()+f(a)),this},setRealMonth:function(a){return this.setMonth(f(a)-1),this},setDayCountsInMonth:function(a,b){if(a=parseInt(a,10),b=parseInt(b,10),isNaN(a)||isNaN(b)||0>b&&b>6)throw new Error("引数のデータがおかしいです");this.setDate(1);var c=b-this.getDay()+1;return 1>c&&(c+=7),c+=7*(a-1),this.setDate(c),this},setFirstDate:function(a){return this.clearTime().setFullYear(this.getFullYear(),this.getMonth()+f(a),1),this},setEndDate:function(a){return this.setFirstDate().addMonth(f(a)+1).setDate(0),this},setBeforeWeekday:function(a,b){switch(f(a)){case 0:for(;6===this.getDay()||0===this.getDay()||this.isHoliday(b);)this.addDate(-1);break;case 1:for(;6===this.getDay()||0===this.getDay();)this.addDate(-1);break;case 2:for(;0===this.getDay()||this.isHoliday(b);)this.addDate(-1);break;case 3:for(;0===this.getDay();)this.addDate(-1);break;case 4:for(;this.isHoliday(b);)this.addDate(-1)}return this},setAfterWeekday:function(a,b){switch(f(a)){case 0:for(;6===this.getDay()||0===this.getDay()||this.isHoliday(b);)this.addDate(1);break;case 1:for(;6===this.getDay()||0===this.getDay();)this.addDate(1);break;case 2:for(;0===this.getDay()||this.isHoliday(b);)this.addDate(1);break;case 3:for(;0===this.getDay();)this.addDate(1);break;case 4:for(;this.isHoliday(b);)this.addDate(1)}return this},clearTime:function(){return this.setHours(0,0,0,0),this},getRealMonth:function(){return this.getMonth()+1},getDayCountsInMonth:function(){return Math.ceil(this.getDate()/7)},getISOWeek:function(){return j(1,4,this)},getUSWeek:function(){return j(0,0,this)},getEndDate:function(a){return this.copy().setEndDate(a).getDate()},getHolidays:function(a,b){return a=a?f(a):this.getFullYear(),b=b?b:e,b in l||(l[b]=l.def),l[b].get(a)},getHoliday:function(a){var b=this.getHolidays(this.getFullYear(),a),c=this.format(d);return c in b?b[c]:""},diff:function(a){a=h(a);var b=a.getTime()-this.getTime(),c=b>=0;c||(b*=-1);var d=1e3,e=60*d,f=60*e,g=24*f,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0;return i=b%d,m=b-i,m>0&&(j=m%e,n=m-j),n>0&&(k=n%f,o=n-k),o>0&&(l=o%g,p=o-l),{after:c,day:p/g,hour:l/f,minute:k/e,second:j/d,ms:i}},diffMonth:function(a){return a=h(a),12*a.getFullYear()+a.getMonth()-(12*this.getFullYear()+this.getMonth())},diffDate:function(a){a=h(a);var b=a.clearTime().getTime()-this.copy().clearTime().getTime();return b/864e5},isLeapYear:function(a){return a=a?f(a):this.getFullYear(),a%4===0&&a%100!==0||a%400===0},isDayCountsInMonth:function(a,b){return this.getDayCountsInMonth()===f(a)&&this.getDay()===f(b)},isISOWeekDay:function(a,b){return this.getISOWeek()===f(a)&&this.getDay()===f(b)},isUSWeekDay:function(a,b){return this.getUSWeek()===f(a)&&this.getDay()===f(b)},isISOWeek:function(a){return this.getISOWeek()===f(a)},isUSWeek:function(a){return this.getUSWeek()===f(a)},isSameDate:function(a){return this.copy().clearTime().getTime()===h(a).clearTime().getTime()},isBeforeDate:function(a){return this.copy().clearTime()<h(a).clearTime()},isAfterDate:function(a){return this.copy().clearTime()>h(a).clearTime()},isBetween:function(a,b,c){return a=h(a),b=h(b),c===!0&&(a.clearTime(),b.clearTime().addDate(1).addMilliseconds(-1)),this>=a&&b>=this},isToday:function(){return this.isSameDate(new a)},isTomorrow:function(){return this.isSameDate((new a).addDate(1))},isYesterday:function(){return this.isSameDate((new a).addDate(-1))},isNDate:function(a,b){return a=h(a),this.isSameDate(a.addDate(-1*f(b)))},isHoliday:function(a){return""!==this.getHoliday(a)}},Object.defineProperty(a.prototype,"instanceName",{writable:!1});var b=Object.getOwnPropertyNames(Date.prototype);for(var c in b)!function(b){"constructor"!==b&&"instanceName"!==b&&(a.prototype[b]=function(){return Date.prototype[b].apply(this.date.value,Array.prototype.slice.call(arguments))})}(b[c]);var d="yyyy/MM/dd",e="def",f=function(a){return a=parseInt(a,10),isNaN(a)?0:a},g=function(a,b){return b=parseInt(b,10),isNaN(b)&&(b=2),2>b?a:(new Array(b).join("0")+a).slice(-1*b)},h=function(b){if(b=void 0===b?new a:new a(b),i(b))throw new Error("UltraDateオブジェクトに変換できませんでした");return b},i=function(a){return isNaN(a.getTime())},j=function(b,c,d){b=parseInt(b,10),c=parseInt(c,10),(isNaN(b)||0>b&&b>6)&&(b=1),(isNaN(c)||0>c&&c>6)&&(c=4);var e=new a(d.getFullYear(),0,1).clearTime(),f=new a(d).clearTime(),g=0,h=f.getDay();0===b?h++:b>0&&7>b&&(h-=b-1,1>h&&(h+=7)),h=7-h,c=7-c;var i=function(a,b,c,d){return(a-b)/864e5+1+c+d},j=i(f,e,h,c);return 7>j&&0!==c&&(e.addYear(-1),j=i(f,e,h,c)),0===c?g=Math.ceil(j/7):c>0&&7>=c&&(g=Math.floor(j/7)),g},k={def:{longDay:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDay:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longMonth:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonth:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],smallNoon:["am","pm"],largeNoon:["AM","PM"],era:function(a){return{longName:"A.D.",shortName:"AD",alphaNamet:"A",year:a.getFullYear()}},eraStrict:function(a){return this.era(a)}}},l={def:{get:function(){return{}}}};return a}();